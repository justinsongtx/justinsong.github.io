<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>记一次发布失败 ITMS-90034: Missing or invalid signature | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="起因今天项目提审，上传了ipa，叮咚，收到一封邮件，有不好的预感，果然，苹果爸爸又zuo妖了，提审失败 解决办法：最终重做证书之后解决  经过提示签名错误，查！怎么查？ 一. 从结果入手，查ipa里的签名 解压ipa  进入Payload&#x2F;xxx.app&#x2F;目录  输入命令   security cms -D -i embedded.mobileprovision 分析签名文件和keystore里的">
<meta property="og:type" content="article">
<meta property="og:title" content="记一次发布失败 ITMS-90034: Missing or invalid signature">
<meta property="og:url" content="http://yoursite.com/2020/09/21/%E8%AE%B0%E4%B8%80%E6%AC%A1%E5%8F%91%E5%B8%83%E5%A4%B1%E8%B4%A5-ITMS-90034-Missing-or-invalid-signature/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="起因今天项目提审，上传了ipa，叮咚，收到一封邮件，有不好的预感，果然，苹果爸爸又zuo妖了，提审失败 解决办法：最终重做证书之后解决  经过提示签名错误，查！怎么查？ 一. 从结果入手，查ipa里的签名 解压ipa  进入Payload&#x2F;xxx.app&#x2F;目录  输入命令   security cms -D -i embedded.mobileprovision 分析签名文件和keystore里的">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://km.oa.com/files/photos/pictures/202006/1591364435_57_w1528_h602.png">
<meta property="og:image" content="http://km.oa.com/files/photos/pictures/202006/1591364449_93_w1586_h1144.png">
<meta property="og:image" content="http://km.oa.com/files/photos/pictures/202006/1591364455_44_w2710_h704.png">
<meta property="article:published_time" content="2020-09-20T16:35:04.000Z">
<meta property="article:modified_time" content="2020-09-20T16:35:49.000Z">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://km.oa.com/files/photos/pictures/202006/1591364435_57_w1528_h602.png">
  
  <link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.2.0/styles/github.min.css">
  <script src="//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', (event) => {
      document.querySelectorAll('pre code').forEach((block) => {
        hljs.highlightBlock(block);
      });
    });
  </script>
  
<link rel="stylesheet" href="/css/index.css">

<meta name="generator" content="Hexo 4.2.1"></head>

<body style="


  background-color: #eff0f6

">
  <div id="container">
    <nav id="nav">
  <header class="header">
    <a href="/" class="title">Clover Tuan</a>
  </header>
  <div class="ctnWrap">
    <div class="icons">
      
        
          
            <a href="https://dribbble.com/clovertuan" target="_blank" class="nav-icn iconfont icon-dribbble"></a>
          
        
          
            <a href="https://www.behance.net/clovertuan" target="_blank" class="nav-icn iconfont icon-behance"></a>
          
        
          
            <a href="http://clovertuan.lofter.com/" target="_blank" class="nav-icn iconfont icon-lofter"></a>
          
        
          
            <a href="https://www.instagram.com/clovertuan/" target="_blank" class="nav-icn iconfont icon-instagram"></a>
          
        
          
            <a href="https://github.com/cloverTuan" target="_blank" class="nav-icn iconfont icon-github"></a>
          
        
      
    </div>
    <div class="menu">
      
        
            <a href="/" class="nav-menu ">HOME</a>
          
        
            <a href="/archives" class="nav-menu ">ARCHIVE</a>
          
        
            <a href="/about" class="nav-menu ">ABOUT</a>
          
        
      
    </div>
  </div>
</nav>
    <div id="main"><section class="article">
  <h2 class="title">记一次发布失败 ITMS-90034: Missing or invalid signature</h2>
  <p class="sub">Sep 21, 2020</p>
  <article class="content">
    <h2 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h2><p>今天项目提审，上传了ipa，叮咚，收到一封邮件，有不好的预感，果然，苹果爸爸又zuo妖了，提审失败</p>
<p><strong>解决办法：最终重做证书之后解决</strong></p>
<p><img src="http://km.oa.com/files/photos/pictures/202006/1591364435_57_w1528_h602.png" alt="enter image description here"></p>
<h2 id="经过"><a href="#经过" class="headerlink" title="经过"></a>经过</h2><p>提示签名错误，查！<br>怎么查？</p>
<h3 id="一-从结果入手，查ipa里的签名"><a href="#一-从结果入手，查ipa里的签名" class="headerlink" title="一. 从结果入手，查ipa里的签名"></a>一. 从结果入手，查ipa里的签名</h3><ol>
<li><p>解压ipa</p>
</li>
<li><p>进入Payload/xxx.app/目录</p>
</li>
<li><p>输入命令 </p>
<pre><code> security cms -D -i embedded.mobileprovision</code></pre></li>
<li><p>分析签名文件<br><img src="http://km.oa.com/files/photos/pictures/202006/1591364449_93_w1586_h1144.png" alt="enter image description here"><br><img src="http://km.oa.com/files/photos/pictures/202006/1591364455_44_w2710_h704.png" alt="enter image description here"><br>和keystore里的签名完全对应，而且没过期，未见异常</p>
</li>
</ol>
<h3 id="二-从苹果邮件入手，上网搜索错误号“ITMS-90034”"><a href="#二-从苹果邮件入手，上网搜索错误号“ITMS-90034”" class="headerlink" title="二. 从苹果邮件入手，上网搜索错误号“ITMS-90034”"></a>二. 从苹果邮件入手，上网搜索错误号“ITMS-90034”</h3><p>网上解决方式有3种：</p>
<ul>
<li>重新制作证书</li>
<li>删除过期证书</li>
<li>更改证书默认信任</li>
</ul>
<h2 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h2><p>与蓝盾同事交涉，我们的证书已经是默认信任的，那就剩下<strong>更新证书</strong>了，来吧！</p>
<ul>
<li>更新证书</li>
<li>重新打包</li>
<li>上传ipa</li>
<li>审核通过</li>
</ul>
<p>一气呵成，回家吃饭！</p>

  </article>
  <footer class="f-cf">
    
      <a href="/2020/09/21/MarkDown%E5%85%BC%E5%AE%B9OutLook%E5%B0%8F%E8%AE%B0/" class="link f-fl">⟵MarkDown兼容OutLook小记</a>
    
    
      <a href="/2020/09/07/ios%E7%9F%A5%E8%AF%86%E6%A2%B3%E7%90%86/" class="link f-fr">ios知识梳理⟶</a>
    
  </footer>
</section></div>
    <footer id="footer" class="f-cf">
  d.guangying@foxmail.com
  
    
      
        · <a href="https://dribbble.com/clovertuan" target="_blank" class="nav-icn">Dribbble</a>
      
    
      
        · <a href="https://www.behance.net/clovertuan" target="_blank" class="nav-icn">Behance</a>
      
    
      
        · <a href="http://clovertuan.lofter.com/" target="_blank" class="nav-icn">Lofter</a>
      
    
      
        · <a href="https://www.instagram.com/clovertuan/" target="_blank" class="nav-icn">Instagram</a>
      
    
      
        · <a href="https://github.com/cloverTuan" target="_blank" class="nav-icn">GitHub</a>
      
    
  
  <span class="copyright">All rights reserved @Clover Tuan</span>
</footer>
  </div>
</body>
</html>